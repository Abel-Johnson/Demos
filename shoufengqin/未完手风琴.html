<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>手风琴</title>
	<script src="jquery-2.2.2.min.js"></script>
	<style>
		ul{
			list-style: none;
			padding: 0;
			margin: 0; 
		}

		#box{
			width: 1200px;
			margin: 0 auto;
		}
		#list{
			width: 100%;
			height: 260px;
		}
		.item{
			float: left;
			width: 130px;
			height: 260px;
		}
	</style>
</head>
<body>
	<div id="box">
		<ul id="list">
			<li class="item">
				<div style="height: 100%; background: url(img/1.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/2.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/3.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/4.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/5.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/6.jpg) no-repeat;"></div>
			</li>
			<li class="item">
				<div style="height: 100%; background: url(img/7.jpg) no-repeat;"></div>
			</li>
		</ul>
	</div>

	<script>
		var items = $('.item');
		var totalW = $('#list').width();
		var imgW = 400;
		var len = items.size();//该方法返回符合条件元素的个数
		var otherW = Math.floor((totalW-imgW)/(len-1));
		var normalW = Math.floor(totalW/len);


		// 初始化表现: 
		// 1. 平均分配
		// items.width(normalW);
		// 2. 第一个是active
		items.width(otherW);
		items.eq(0).animate({
			width: imgW
		})


		// items.on('mouseover', function () {
			
		// 	var _this = this;
		// 	items.each(function (index) {
		// 		$(this).stop().animate({
		// 			width: this !== _this?otherW:imgW
		// 		})
		// 	})
		// })
		// items.on('mouseout', function () {
		// 	items.each(function (index) {
		// 		$(this).stop().animate({
		// 			width: normalW
		// 		})
		// 	})
		// })
		//会有一个问题: 移动的速度快的话,最后一个图片会掉下去(这是jq自带animate的问题)
		// 所以要自己封装一个动画
		var timer1,timer2;

		items.on('mouseover', function () {
			clearInterval(timer1)
			timer1 = setInterval(() => {
				var currentW = $(this).width();
				if (currentW < 400) {
					// $(this).width()
					var _this = this;
					items.each(function (index) {
						if(this !== _this) {
							var ow = $(this).width();
							var speed = ;
						}




						$(this).width(?otherW:imgW)
					})
				}
			},30)
		})
		// items.on('mouseout', function () {
		// 	items.each(function (index) {
		// 		$(this).stop().animate({
		// 			width: normalW
		// 		})
		// 	})
		// })






	</script>
</body>
</html>